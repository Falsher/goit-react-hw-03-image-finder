{"version":3,"sources":["components/image-folder/modal.js","components/image-folder/gallery.js","components/image-folder/image-info.js","components/image-folder/image-input.js","App.js","reportWebVitals.js","index.js"],"names":["modalRoot","document","querySelector","Modal","handleBackdropClick","event","currentTarget","target","props","closeModal","handleKeyDown","code","window","addEventListener","this","removeEventListener","createPortal","className","onClick","width","src","href","alt","Component","ImageGalleryItem","handleClick","openModal","dataset","largeimage","largeImageUrl","ImageInfo","state","image","loading","error","page","showModal","modalData","toggleModal","setState","hendlePageUp","console","log","fetch","imageName","then","response","json","prevState","hits","catch","finally","prevProps","length","map","hit","user","previewURL","largeImageURL","id","type","ImageInput","inputData","handleInputChange","value","toLowerCase","reset","handleSubmit","preventDefault","trim","onSubmit","toast","autoComplete","autoFocus","placeholder","onChange","App","formSubmit","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4cd28c8b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './css/modal.css';\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Modal-backdrop \" onClick={this.handleBackdropClick}>\n        <div className=\"Modal-content\">\n          <img width=\"400\" src={this.props.href} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\n\nclass ImageGalleryItem extends Component {\n  handleClick = event => {\n    this.props.openModal(event.target.dataset.largeimage, this.props.alt);\n  };\n\n  render() {\n    return (\n      <img\n        src={this.props.src}\n        alt={this.props.alt}\n        className=\"ImageGalleryItem-image\"\n        data-largeimage={this.props.largeImageUrl}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport Modal from './modal';\nimport Gallery from './gallery';\nimport './css/gallery.css';\nexport default class ImageInfo extends Component {\n  state = {\n    image: [],\n    loading: false,\n    error: null,\n    page: 1,\n    showModal: false,\n  };\n  modalData = {\n    src: '',\n    alt: '',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.imageName !== this.props.imageName) {\n      this.setState({ loading: true });\n      this.setState({ page: 1 });\n      fetch(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.props.imageName}&page=${this.state.page}&per_page=12&key=21857111-8554c096d1798b5dae4546d72`,\n      )\n        .then(response => response.json())\n        .then(image => this.setState({ image: image.hits }))\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(state => ({ showModal: !state.showModal }));\n  };\n  hendlePageUp = () => {\n    console.log('hello');\n\n    this.setState(\n      ({ page }) => ({\n        page: page + 1,\n      }),\n      () => {\n        fetch(\n          `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.props.imageName}&page=${this.state.page}&per_page=12&key=21857111-8554c096d1798b5dae4546d72`,\n        )\n          .then(response => response.json())\n          .then(image =>\n            this.setState(prevState => {\n              console.log(prevState.image, image.hits);\n              return {\n                image: [...prevState.image, ...image.hits],\n              };\n            }),\n          )\n          .catch(error => this.setState({ error }))\n          .finally(() => this.setState({ loading: false }));\n      },\n    );\n  };\n  openModal = (src, alt) => {\n    this.modalData.src = src;\n    this.modalData.alt = alt;\n    this.toggleModal();\n  };\n  render() {\n    const { loading, image, error } = this.state;\n\n    return (\n      <section>\n        <h1>ImageInfo </h1>\n        {error && <h1>Картинки {this.props.imageName} нет</h1>}\n        {loading && <div>loading...</div>}\n        {this.props.imageName && <div>Введите название картинки</div>}\n        {image.length && (\n          <div>\n            <ul className=\"ImageGallery\">\n              {image.map(hit => {\n                return (\n                  <li className=\"ImageGalleryItem\" key={hit.id}>\n                    <Gallery\n                      alt={hit.user}\n                      src={hit.previewURL}\n                      largeImageUrl={hit.largeImageURL}\n                      openModal={this.openModal}\n                    />\n                  </li>\n                );\n              })}\n\n              <div>\n                {this.state.showModal && (\n                  <Modal\n                    closeModal={this.toggleModal}\n                    href={this.modalData.src}\n                    alt={this.modalData.alt}\n                  />\n                )}\n              </div>\n              <button\n                type=\"button\"\n                className=\"loadBtn\"\n                onClick={this.hendlePageUp}\n              >\n                Load more\n              </button>\n            </ul>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nclass ImageInput extends Component {\n  state = {\n    inputData: '',\n  };\n  handleInputChange = event => {\n    this.setState({ inputData: event.currentTarget.value.toLowerCase() });\n  };\n  reset = () => {\n    this.setState({ inputData: '' });\n  };\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.inputData.trim() === '') {\n      toast.error('Введите имя image!');\n      return;\n    }\n    this.props.onSubmit(this.state.inputData);\n    this.reset();\n  };\n  render() {\n    return (\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={this.state.inputData}\n          onChange={this.handleInputChange}\n        />\n      </form>\n    );\n  }\n}\nexport default ImageInput;\n","import React, { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport './components/image-folder/css/header.css';\nimport ImageInfo from './components/image-folder/image-info';\nimport InputImage from './components/image-folder/image-input';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n  formSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <InputImage onSubmit={this.formSubmit} />\n\n          <ToastContainer\n            position=\"top-center\"\n            autoClose={3000}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n          />\n        </header>\n\n        <ImageInfo imageName={this.state.imageName} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}